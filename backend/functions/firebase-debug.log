[debug] [2025-09-26T03:04:57.841Z] ----------------------------------------------------------------------
[debug] [2025-09-26T03:04:57.863Z] Command:       C:\nvm4w\nodejs\node.exe C:\Users\yeatj\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2025-09-26T03:04:57.864Z] CLI Version:   14.17.0
[debug] [2025-09-26T03:04:57.864Z] Platform:      win32
[debug] [2025-09-26T03:04:57.865Z] Node Version:  v23.11.0
[debug] [2025-09-26T03:04:57.866Z] Time:          Fri Sep 26 2025 11:04:57 GMT+0800 (Malaysia Time)
[debug] [2025-09-26T03:04:57.866Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-09-26T03:04:58.356Z] Object "" in "firebase.json" has unknown property: {"additionalProperty":"flutter"}
[debug] [2025-09-26T03:04:58.372Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-09-26T03:04:58.373Z] > authorizing via signed-in user (yeatjingrong@gmail.com)
[debug] [2025-09-26T03:04:58.373Z] [iam] checking project ruff-7d37f for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-09-26T03:04:58.378Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:04:58.378Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:04:58.381Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions [none]
[debug] [2025-09-26T03:04:58.381Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions x-goog-quota-user=projects/ruff-7d37f
[debug] [2025-09-26T03:04:58.381Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-26T03:04:59.862Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions 200
[debug] [2025-09-26T03:04:59.862Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-26T03:04:59.863Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:04:59.863Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:04:59.863Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/ruff-7d37f/serviceAccounts/ruff-7d37f@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-09-26T03:04:59.863Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/ruff-7d37f/serviceAccounts/ruff-7d37f@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-09-26T03:05:01.271Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/ruff-7d37f/serviceAccounts/ruff-7d37f@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-09-26T03:05:01.271Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/ruff-7d37f/serviceAccounts/ruff-7d37f@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'ruff-7d37f'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] +  functions: Finished running predeploy script. 
[debug] [2025-09-26T03:05:03.577Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:03.577Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:03.577Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f [none]
[debug] [2025-09-26T03:05:03.867Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f 200
[debug] [2025-09-26T03:05:03.868Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f {"projectNumber":"875924720631","projectId":"ruff-7d37f","lifecycleState":"ACTIVE","name":"Ruff","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-21T10:28:16.225966Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-09-26T03:05:03.875Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:03.876Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:03.876Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/ruff-7d37f/adminSdkConfig [none]
[debug] [2025-09-26T03:05:04.943Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/ruff-7d37f/adminSdkConfig 200
[debug] [2025-09-26T03:05:04.943Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/ruff-7d37f/adminSdkConfig {"projectId":"ruff-7d37f","storageBucket":"ruff-7d37f.firebasestorage.app"}
[debug] [2025-09-26T03:05:04.944Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:04.944Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:04.945Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs [none]
[debug] [2025-09-26T03:05:05.468Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs 200
[debug] [2025-09-26T03:05:05.468Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs {"configs":[{"name":"projects/ruff-7d37f/configs/admins"}]}
[debug] [2025-09-26T03:05:05.469Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:05.469Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:05.470Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs/admins/variables [none]
[debug] [2025-09-26T03:05:05.758Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs/admins/variables 200
[debug] [2025-09-26T03:05:05.758Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs/admins/variables {"variables":[{"name":"projects/ruff-7d37f/configs/admins/variables/emails","updateTime":"2025-09-26T02:23:01.711751566Z"}]}
[debug] [2025-09-26T03:05:05.759Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:05.759Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:05.759Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs/admins/variables/emails [none]
[debug] [2025-09-26T03:05:06.830Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs/admins/variables/emails 200
[debug] [2025-09-26T03:05:06.830Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs/admins/variables/emails {"name":"projects/ruff-7d37f/configs/admins/variables/emails","updateTime":"2025-09-26T02:23:01.711751566Z","text":"yeat@graduate.utm.my"}
[debug] [2025-09-26T03:05:06.834Z] Validating nodejs source
[debug] [2025-09-26T03:05:09.457Z] > [functions] package.json contents: {
  "name": "functions",
  "main": "index.js",
  "type": "commonjs",
  "engines": {
    "node": "20"
  },
  "scripts": {
    "lint": "eslint ."
  },
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^5.1.1"
  },
  "devDependencies": {
    "eslint": "^8.57.1",
    "eslint-config-google": "^0.14.0"
  },
  "someObject": {
    "key1": "value1",
    "key2": "value2"
  },
  "eslintConfig": {
    "extends": "google"
  },
  "eslint": {
    "files": [
      "**/*.js"
    ],
    "rules": {
      "semi": [
        "error",
        "always"
      ],
      "comma-dangle": [
        "error",
        "always-multiline"
      ]
    }
  }
}
[debug] [2025-09-26T03:05:09.458Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-09-26T03:05:09.462Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-09-26T03:05:09.483Z] Found firebase-functions binary at 'C:\Users\yeatj\Documents\SELF\CodeNection\ruff 1stver\ruff\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8229

[debug] [2025-09-26T03:05:12.149Z] Got response from /__/functions.yaml {"endpoints":{"ping":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"ping"},"setUserRole":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"setUserRole"},"onCreateSetDefaultRole":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/ruff-7d37f"},"retry":false},"labels":{},"entryPoint":"onCreateSetDefaultRole"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-09-26T03:05:16.244Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-09-26T03:05:16.245Z] > authorizing via signed-in user (yeatjingrong@gmail.com)
[debug] [2025-09-26T03:05:16.245Z] [iam] checking project ruff-7d37f for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-09-26T03:05:16.245Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:16.245Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:16.245Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions [none]
[debug] [2025-09-26T03:05:16.245Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions x-goog-quota-user=projects/ruff-7d37f
[debug] [2025-09-26T03:05:16.246Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-09-26T03:05:17.362Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions 200
[debug] [2025-09-26T03:05:17.362Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-09-26T03:05:17.363Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:17.363Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:17.364Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/ruff-7d37f/instances pageSize=100&pageToken=
[debug] [2025-09-26T03:05:18.790Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/ruff-7d37f/instances 200
[debug] [2025-09-26T03:05:18.790Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/ruff-7d37f/instances {}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\yeatj\Documents\SELF\CodeNection\ruff 1stver\ruff\functions (45.17 KB) for uploading 
[debug] [2025-09-26T03:05:18.950Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:18.951Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:18.951Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/-/functions [none]
[debug] [2025-09-26T03:05:19.760Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/-/functions 200
[debug] [2025-09-26T03:05:19.760Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/-/functions {"functions":[{"name":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/setUserRole","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"setUserRole","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ruff-7d37f@appspot.gserviceaccount.com","updateTime":"2025-09-26T02:45:50.679963999Z","versionId":"1","labels":{"firebase-functions-hash":"f1d5612e299dfebe7a8ec15e5f08e7e68278667e","deployment-tool":"cli-firebase","deployment-callable":"true"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/1fe2c56b-584c-4b43-98cb-367d62d4f8ea.zip","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ba300a67-db33-47de-841c-bdae3b3f3c30","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/ba300a67-db33-47de-841c-bdae3b3f3c30","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/ruff-7d37f","service":"firebaseauth.googleapis.com","failurePolicy":{}},"status":"OFFLINE","entryPoint":"onCreateSetDefaultRole","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ruff-7d37f@appspot.gserviceaccount.com","updateTime":"2025-09-26T02:45:49.895241891Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"f1d5612e299dfebe7a8ec15e5f08e7e68278667e"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/1fe2c56b-584c-4b43-98cb-367d62d4f8ea.zip","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"a10cde96-3c18-41fa-8423-04aff9d6f658","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/a10cde96-3c18-41fa-8423-04aff9d6f658","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/ruff-7d37f/locations/us-central1/functions/ping","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/ping","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"ping","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ruff-7d37f@appspot.gserviceaccount.com","updateTime":"2025-09-26T02:45:18.937885721Z","versionId":"1","labels":{"firebase-functions-hash":"f1d5612e299dfebe7a8ec15e5f08e7e68278667e","deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/1fe2c56b-584c-4b43-98cb-367d62d4f8ea.zip","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/ping"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"248ed464-4222-4897-b001-89a9f8e20f3e","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/248ed464-4222-4897-b001-89a9f8e20f3e","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com","satisfiesPzi":true}]}
[debug] [2025-09-26T03:05:19.762Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:19.762Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:19.762Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/ruff-7d37f/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-09-26T03:05:21.347Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/ruff-7d37f/locations/-/functions 200
[debug] [2025-09-26T03:05:21.348Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/ruff-7d37f/locations/-/functions {}
[debug] [2025-09-26T03:05:21.358Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:21.358Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:21.358Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f [none]
[debug] [2025-09-26T03:05:21.646Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f 200
[debug] [2025-09-26T03:05:21.646Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f {"projectNumber":"875924720631","projectId":"ruff-7d37f","lifecycleState":"ACTIVE","name":"Ruff","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-21T10:28:16.225966Z"}
[debug] [2025-09-26T03:05:21.649Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:21.649Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:21.649Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/ruff-7d37f/billingInfo [none]
[debug] [2025-09-26T03:05:23.079Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/ruff-7d37f/billingInfo 200
[debug] [2025-09-26T03:05:23.079Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/ruff-7d37f/billingInfo {"name":"projects/ruff-7d37f/billingInfo","projectId":"ruff-7d37f","billingAccountName":"billingAccounts/01FC85-C794FC-1B7335","billingEnabled":true}
[debug] [2025-09-26T03:05:23.082Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:23.083Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:23.083Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2025-09-26T03:05:23.083Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/functions:generateUploadUrl {}
[debug] [2025-09-26T03:05:23.899Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/functions:generateUploadUrl 200
[debug] [2025-09-26T03:05:23.900Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D"}
[debug] [2025-09-26T03:05:23.901Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip GoogleAccessId=service-875924720631%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D
[debug] [2025-09-26T03:05:23.901Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip [stream]
[debug] [2025-09-26T03:05:24.713Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip 200
[debug] [2025-09-26T03:05:24.713Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip [omitted]
[info] +  functions: functions source uploaded successfully 
[info] i  functions: updating Node.js 20 (1st Gen) function ping(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function setUserRole(us-central1)... 
[info] i  functions: updating Node.js 20 (1st Gen) function onCreateSetDefaultRole(us-central1)... 
[debug] [2025-09-26T03:05:24.729Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:24.729Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:24.729Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/functions/ping updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-09-26T03:05:24.729Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/functions/ping {"name":"projects/ruff-7d37f/locations/us-central1/functions/ping","sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","entryPoint":"ping","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/ping"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-09-26T03:05:25.434Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/functions/ping 200
[debug] [2025-09-26T03:05:25.434Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/functions/ping {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/ping","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/ping","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/ping","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"ping","updateTime":"2025-09-26T02:45:17.164Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/ping"},"runtime":"nodejs20","buildId":"248ed464-4222-4897-b001-89a9f8e20f3e","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/248ed464-4222-4897-b001-89a9f8e20f3e","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:05:28Z"}}
[debug] [2025-09-26T03:05:25.436Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:25.436Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:25.436Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv [none]
[debug] [2025-09-26T03:05:25.820Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv 200
[debug] [2025-09-26T03:05:25.820Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/ping","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/ping","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/ping","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"ping","updateTime":"2025-09-26T02:45:17.164Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/ping"},"runtime":"nodejs20","buildId":"248ed464-4222-4897-b001-89a9f8e20f3e","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/248ed464-4222-4897-b001-89a9f8e20f3e","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:05:28Z"}}
[debug] [2025-09-26T03:05:26.323Z] [update-default-us-central1-ping] Retrying task index 0
[debug] [2025-09-26T03:05:26.323Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:26.324Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:26.324Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv [none]
[debug] [2025-09-26T03:05:26.660Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv 200
[debug] [2025-09-26T03:05:26.661Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/ping","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/ping","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/ping","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"ping","updateTime":"2025-09-26T02:45:17.164Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/ping"},"runtime":"nodejs20","buildId":"248ed464-4222-4897-b001-89a9f8e20f3e","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/248ed464-4222-4897-b001-89a9f8e20f3e","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:05:28Z","buildId":"ac56e279-08ed-45ef-9f8f-eb9347db07f3","buildName":"projects/875924720631/locations/us-central1/builds/ac56e279-08ed-45ef-9f8f-eb9347db07f3"}}
[debug] [2025-09-26T03:05:27.668Z] [update-default-us-central1-ping] Retrying task index 0
[debug] [2025-09-26T03:05:27.669Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:27.669Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:27.669Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv [none]
[debug] [2025-09-26T03:05:27.995Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv 200
[debug] [2025-09-26T03:05:27.996Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/ping","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/ping","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/ping","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"ping","updateTime":"2025-09-26T02:45:17.164Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/ping"},"runtime":"nodejs20","buildId":"248ed464-4222-4897-b001-89a9f8e20f3e","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/248ed464-4222-4897-b001-89a9f8e20f3e","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:05:28Z","buildId":"ac56e279-08ed-45ef-9f8f-eb9347db07f3","buildName":"projects/875924720631/locations/us-central1/builds/ac56e279-08ed-45ef-9f8f-eb9347db07f3"}}
[debug] [2025-09-26T03:05:29.998Z] [update-default-us-central1-ping] Retrying task index 0
[debug] [2025-09-26T03:05:29.999Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:29.999Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:30.000Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv [none]
[debug] [2025-09-26T03:05:30.382Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv 200
[debug] [2025-09-26T03:05:30.383Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/ping","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/ping","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/ping","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"ping","updateTime":"2025-09-26T02:45:17.164Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/ping"},"runtime":"nodejs20","buildId":"248ed464-4222-4897-b001-89a9f8e20f3e","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/248ed464-4222-4897-b001-89a9f8e20f3e","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:05:28Z","buildId":"ac56e279-08ed-45ef-9f8f-eb9347db07f3","buildName":"projects/875924720631/locations/us-central1/builds/ac56e279-08ed-45ef-9f8f-eb9347db07f3"}}
[debug] [2025-09-26T03:05:34.388Z] [update-default-us-central1-ping] Retrying task index 0
[debug] [2025-09-26T03:05:34.388Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:34.389Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:34.389Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv [none]
[debug] [2025-09-26T03:05:36.394Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv 200
[debug] [2025-09-26T03:05:36.394Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/ping","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/ping","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/ping","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"ping","updateTime":"2025-09-26T02:45:17.164Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/ping"},"runtime":"nodejs20","buildId":"248ed464-4222-4897-b001-89a9f8e20f3e","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/248ed464-4222-4897-b001-89a9f8e20f3e","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:05:28Z","buildId":"ac56e279-08ed-45ef-9f8f-eb9347db07f3","buildName":"projects/875924720631/locations/us-central1/builds/ac56e279-08ed-45ef-9f8f-eb9347db07f3"}}
[debug] [2025-09-26T03:05:44.397Z] [update-default-us-central1-ping] Retrying task index 0
[debug] [2025-09-26T03:05:44.398Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:44.398Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:44.398Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv [none]
[debug] [2025-09-26T03:05:44.892Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv 200
[debug] [2025-09-26T03:05:44.892Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/ping","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/ping","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/ping","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"ping","updateTime":"2025-09-26T02:45:17.164Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/ping"},"runtime":"nodejs20","buildId":"248ed464-4222-4897-b001-89a9f8e20f3e","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/248ed464-4222-4897-b001-89a9f8e20f3e","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:05:28Z","buildId":"ac56e279-08ed-45ef-9f8f-eb9347db07f3","buildName":"projects/875924720631/locations/us-central1/builds/ac56e279-08ed-45ef-9f8f-eb9347db07f3"}}
[debug] [2025-09-26T03:05:54.893Z] [update-default-us-central1-ping] Retrying task index 0
[debug] [2025-09-26T03:05:54.893Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:54.893Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:05:54.894Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv [none]
[debug] [2025-09-26T03:05:55.379Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv 200
[debug] [2025-09-26T03:05:55.380Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/ping","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/ping","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/ping","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"ping","updateTime":"2025-09-26T02:45:17.164Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/ping"},"runtime":"nodejs20","buildId":"248ed464-4222-4897-b001-89a9f8e20f3e","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/248ed464-4222-4897-b001-89a9f8e20f3e","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:05:28Z","buildId":"ac56e279-08ed-45ef-9f8f-eb9347db07f3","buildName":"projects/875924720631/locations/us-central1/builds/ac56e279-08ed-45ef-9f8f-eb9347db07f3"}}
[debug] [2025-09-26T03:06:05.391Z] [update-default-us-central1-ping] Retrying task index 0
[debug] [2025-09-26T03:06:05.391Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:05.392Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:05.392Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv [none]
[debug] [2025-09-26T03:06:05.837Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv 200
[debug] [2025-09-26T03:06:05.838Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9waW5nL2R4czNlYWRYTERv","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/ping","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/ping","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/ping","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"ping","updateTime":"2025-09-26T02:45:17.164Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/ping"},"runtime":"nodejs20","buildId":"248ed464-4222-4897-b001-89a9f8e20f3e","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/248ed464-4222-4897-b001-89a9f8e20f3e","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:05:58Z","buildId":"ac56e279-08ed-45ef-9f8f-eb9347db07f3","buildName":"projects/875924720631/locations/us-central1/builds/ac56e279-08ed-45ef-9f8f-eb9347db07f3"},"done":true,"error":{"code":3,"message":"Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's firebase-admin@13.5.0 does not satisfy firebase-admin@12.7.0\nnpm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1\nnpm error Invalid: lock file's @firebase/database-compat@2.1.0 does not satisfy @firebase/database-compat@1.0.8\nnpm error Invalid: lock file's @firebase/database-types@1.0.16 does not satisfy @firebase/database-types@1.0.5\nnpm error Invalid: lock file's uuid@11.1.0 does not satisfy uuid@10.0.0\nnpm error Invalid: lock file's @firebase/component@0.7.0 does not satisfy @firebase/component@0.6.9\nnpm error Invalid: lock file's @firebase/database@1.1.0 does not satisfy @firebase/database@1.0.8\nnpm error Invalid: lock file's @firebase/logger@0.5.0 does not satisfy @firebase/logger@0.4.2\nnpm error Invalid: lock file's @firebase/util@1.13.0 does not satisfy @firebase/util@1.10.0\nnpm error Invalid: lock file's @firebase/app-check-interop-types@0.3.3 does not satisfy @firebase/app-check-interop-types@0.3.2\nnpm error Invalid: lock file's @firebase/auth-interop-types@0.2.4 does not satisfy @firebase/auth-interop-types@0.2.3\nnpm error Invalid: lock file's @firebase/app-types@0.9.3 does not satisfy @firebase/app-types@0.9.2\nnpm error Missing: @types/express@4.17.3 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-26T03_05_46_468Z-debug-0.log; Error ID: 7fa33aaa"}}
[debug] [2025-09-26T03:06:05.838Z] Got source token undefined for region us-central1
[debug] [2025-09-26T03:06:05.839Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:05.839Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:05.839Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:05.839Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:05.839Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/functions/setUserRole updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2ChttpsTrigger.securityLevel%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-09-26T03:06:05.839Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/functions/setUserRole {"name":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","entryPoint":"setUserRole","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"httpsTrigger":{"securityLevel":"SECURE_ALWAYS"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[debug] [2025-09-26T03:06:05.840Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole updateMask=name%2CsourceUploadUrl%2CentryPoint%2Cruntime%2CdockerRegistry%2Clabels%2CeventTrigger.eventType%2CeventTrigger.resource%2CeventTrigger.failurePolicy%2CminInstances%2CmaxInstances%2CingressSettings%2CenvironmentVariables%2CserviceAccountEmail%2CavailableMemoryMb%2Ctimeout%2CvpcConnector%2CvpcConnectorEgressSettings%2CsourceToken%2CbuildEnvironmentVariables
[debug] [2025-09-26T03:06:05.841Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole {"name":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","entryPoint":"onCreateSetDefaultRole","runtime":"nodejs20","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/ruff-7d37f"},"minInstances":null,"maxInstances":null,"ingressSettings":null,"environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole"},"serviceAccountEmail":null,"availableMemoryMb":null,"timeout":null,"vpcConnector":null,"vpcConnectorEgressSettings":null,"buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}}
[error] Build failed: npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Invalid: lock file's firebase-admin@13.5.0 does not satisfy firebase-admin@12.7.0
npm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1
npm error Invalid: lock file's @firebase/database-compat@2.1.0 does not satisfy @firebase/database-compat@1.0.8
npm error Invalid: lock file's @firebase/database-types@1.0.16 does not satisfy @firebase/database-types@1.0.5
npm error Invalid: lock file's uuid@11.1.0 does not satisfy uuid@10.0.0
npm error Invalid: lock file's @firebase/component@0.7.0 does not satisfy @firebase/component@0.6.9
npm error Invalid: lock file's @firebase/database@1.1.0 does not satisfy @firebase/database@1.0.8
npm error Invalid: lock file's @firebase/logger@0.5.0 does not satisfy @firebase/logger@0.4.2
npm error Invalid: lock file's @firebase/util@1.13.0 does not satisfy @firebase/util@1.10.0
npm error Invalid: lock file's @firebase/app-check-interop-types@0.3.3 does not satisfy @firebase/app-check-interop-types@0.3.2
npm error Invalid: lock file's @firebase/auth-interop-types@0.2.4 does not satisfy @firebase/auth-interop-types@0.2.3
npm error Invalid: lock file's @firebase/app-types@0.9.3 does not satisfy @firebase/app-types@0.9.2
npm error Missing: @types/express@4.17.3 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info
npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-26T03_05_46_468Z-debug-0.log; Error ID: 7fa33aaa
[debug] [2025-09-26T03:06:06.599Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/functions/setUserRole 200
[debug] [2025-09-26T03:06:06.600Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/functions/setUserRole {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/setUserRole","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"setUserRole","updateTime":"2025-09-26T02:45:48.997Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole"},"runtime":"nodejs20","buildId":"ba300a67-db33-47de-841c-bdae3b3f3c30","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/ba300a67-db33-47de-841c-bdae3b3f3c30","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:06:09Z"}}
[debug] [2025-09-26T03:06:06.600Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:06.601Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:06.601Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ [none]
[debug] [2025-09-26T03:06:06.621Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole 200
[debug] [2025-09-26T03:06:06.621Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/ruff-7d37f","service":"firebaseauth.googleapis.com"},"status":"OFFLINE","entryPoint":"onCreateSetDefaultRole","updateTime":"2025-09-26T02:45:49.426Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole"},"runtime":"nodejs20","buildId":"a10cde96-3c18-41fa-8423-04aff9d6f658","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/a10cde96-3c18-41fa-8423-04aff9d6f658","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:06:09Z"}}
[debug] [2025-09-26T03:06:06.622Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:06.622Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:06.622Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B [none]
[debug] [2025-09-26T03:06:07.009Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ 200
[debug] [2025-09-26T03:06:07.009Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/setUserRole","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"setUserRole","updateTime":"2025-09-26T02:45:48.997Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole"},"runtime":"nodejs20","buildId":"ba300a67-db33-47de-841c-bdae3b3f3c30","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/ba300a67-db33-47de-841c-bdae3b3f3c30","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:06:09Z"}}
[debug] [2025-09-26T03:06:07.010Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B 200
[debug] [2025-09-26T03:06:07.011Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/ruff-7d37f","service":"firebaseauth.googleapis.com"},"status":"OFFLINE","entryPoint":"onCreateSetDefaultRole","updateTime":"2025-09-26T02:45:49.426Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole"},"runtime":"nodejs20","buildId":"a10cde96-3c18-41fa-8423-04aff9d6f658","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/a10cde96-3c18-41fa-8423-04aff9d6f658","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:06:09Z"}}
[debug] [2025-09-26T03:06:07.514Z] [update-default-us-central1-setUserRole] Retrying task index 0
[debug] [2025-09-26T03:06:07.515Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:07.516Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:07.516Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ [none]
[debug] [2025-09-26T03:06:07.517Z] [update-default-us-central1-onCreateSetDefaultRole] Retrying task index 0
[debug] [2025-09-26T03:06:07.518Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:07.518Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:07.518Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B [none]
[debug] [2025-09-26T03:06:07.931Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ 200
[debug] [2025-09-26T03:06:07.931Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/setUserRole","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"setUserRole","updateTime":"2025-09-26T02:45:48.997Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole"},"runtime":"nodejs20","buildId":"ba300a67-db33-47de-841c-bdae3b3f3c30","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/ba300a67-db33-47de-841c-bdae3b3f3c30","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:06:09Z","buildId":"da93c0f1-8ba2-44ae-a742-75968a549134","buildName":"projects/875924720631/locations/us-central1/builds/da93c0f1-8ba2-44ae-a742-75968a549134"}}
[debug] [2025-09-26T03:06:07.933Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B 200
[debug] [2025-09-26T03:06:07.933Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/ruff-7d37f","service":"firebaseauth.googleapis.com"},"status":"OFFLINE","entryPoint":"onCreateSetDefaultRole","updateTime":"2025-09-26T02:45:49.426Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole"},"runtime":"nodejs20","buildId":"a10cde96-3c18-41fa-8423-04aff9d6f658","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/a10cde96-3c18-41fa-8423-04aff9d6f658","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:06:09Z","buildId":"b5aa498a-113a-45c0-b367-3c07ca6885a1","buildName":"projects/875924720631/locations/us-central1/builds/b5aa498a-113a-45c0-b367-3c07ca6885a1"}}
[debug] [2025-09-26T03:06:08.934Z] [update-default-us-central1-setUserRole] Retrying task index 0
[debug] [2025-09-26T03:06:08.934Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:08.935Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:08.935Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ [none]
[debug] [2025-09-26T03:06:08.936Z] [update-default-us-central1-onCreateSetDefaultRole] Retrying task index 0
[debug] [2025-09-26T03:06:08.936Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:08.936Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:08.937Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B [none]
[debug] [2025-09-26T03:06:09.364Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B 200
[debug] [2025-09-26T03:06:09.364Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/ruff-7d37f","service":"firebaseauth.googleapis.com"},"status":"OFFLINE","entryPoint":"onCreateSetDefaultRole","updateTime":"2025-09-26T02:45:49.426Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole"},"runtime":"nodejs20","buildId":"a10cde96-3c18-41fa-8423-04aff9d6f658","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/a10cde96-3c18-41fa-8423-04aff9d6f658","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:06:09Z","buildId":"b5aa498a-113a-45c0-b367-3c07ca6885a1","buildName":"projects/875924720631/locations/us-central1/builds/b5aa498a-113a-45c0-b367-3c07ca6885a1"}}
[debug] [2025-09-26T03:06:09.365Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ 200
[debug] [2025-09-26T03:06:09.365Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/setUserRole","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"setUserRole","updateTime":"2025-09-26T02:45:48.997Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole"},"runtime":"nodejs20","buildId":"ba300a67-db33-47de-841c-bdae3b3f3c30","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/ba300a67-db33-47de-841c-bdae3b3f3c30","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:06:09Z","buildId":"da93c0f1-8ba2-44ae-a742-75968a549134","buildName":"projects/875924720631/locations/us-central1/builds/da93c0f1-8ba2-44ae-a742-75968a549134"}}
[debug] [2025-09-26T03:06:11.371Z] [update-default-us-central1-onCreateSetDefaultRole] Retrying task index 0
[debug] [2025-09-26T03:06:11.371Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:11.371Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:11.372Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B [none]
[debug] [2025-09-26T03:06:11.373Z] [update-default-us-central1-setUserRole] Retrying task index 0
[debug] [2025-09-26T03:06:11.373Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:11.373Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:11.373Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ [none]
[debug] [2025-09-26T03:06:11.729Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B 200
[debug] [2025-09-26T03:06:11.729Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/ruff-7d37f","service":"firebaseauth.googleapis.com"},"status":"OFFLINE","entryPoint":"onCreateSetDefaultRole","updateTime":"2025-09-26T02:45:49.426Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole"},"runtime":"nodejs20","buildId":"a10cde96-3c18-41fa-8423-04aff9d6f658","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/a10cde96-3c18-41fa-8423-04aff9d6f658","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:06:09Z","buildId":"b5aa498a-113a-45c0-b367-3c07ca6885a1","buildName":"projects/875924720631/locations/us-central1/builds/b5aa498a-113a-45c0-b367-3c07ca6885a1"}}
[debug] [2025-09-26T03:06:11.743Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ 200
[debug] [2025-09-26T03:06:11.743Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/setUserRole","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"setUserRole","updateTime":"2025-09-26T02:45:48.997Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole"},"runtime":"nodejs20","buildId":"ba300a67-db33-47de-841c-bdae3b3f3c30","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/ba300a67-db33-47de-841c-bdae3b3f3c30","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:06:09Z","buildId":"da93c0f1-8ba2-44ae-a742-75968a549134","buildName":"projects/875924720631/locations/us-central1/builds/da93c0f1-8ba2-44ae-a742-75968a549134"}}
[debug] [2025-09-26T03:06:15.734Z] [update-default-us-central1-onCreateSetDefaultRole] Retrying task index 0
[debug] [2025-09-26T03:06:15.735Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:15.735Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:15.735Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B [none]
[debug] [2025-09-26T03:06:15.745Z] [update-default-us-central1-setUserRole] Retrying task index 0
[debug] [2025-09-26T03:06:15.745Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:15.745Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:15.745Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ [none]
[debug] [2025-09-26T03:06:16.125Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B 200
[debug] [2025-09-26T03:06:16.125Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/ruff-7d37f","service":"firebaseauth.googleapis.com"},"status":"OFFLINE","entryPoint":"onCreateSetDefaultRole","updateTime":"2025-09-26T02:45:49.426Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole"},"runtime":"nodejs20","buildId":"a10cde96-3c18-41fa-8423-04aff9d6f658","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/a10cde96-3c18-41fa-8423-04aff9d6f658","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:06:09Z","buildId":"b5aa498a-113a-45c0-b367-3c07ca6885a1","buildName":"projects/875924720631/locations/us-central1/builds/b5aa498a-113a-45c0-b367-3c07ca6885a1"}}
[debug] [2025-09-26T03:06:16.126Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ 200
[debug] [2025-09-26T03:06:16.126Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/setUserRole","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"setUserRole","updateTime":"2025-09-26T02:45:48.997Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole"},"runtime":"nodejs20","buildId":"ba300a67-db33-47de-841c-bdae3b3f3c30","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/ba300a67-db33-47de-841c-bdae3b3f3c30","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:06:09Z","buildId":"da93c0f1-8ba2-44ae-a742-75968a549134","buildName":"projects/875924720631/locations/us-central1/builds/da93c0f1-8ba2-44ae-a742-75968a549134"}}
[debug] [2025-09-26T03:06:24.135Z] [update-default-us-central1-onCreateSetDefaultRole] Retrying task index 0
[debug] [2025-09-26T03:06:24.135Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:24.135Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:24.136Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B [none]
[debug] [2025-09-26T03:06:24.139Z] [update-default-us-central1-setUserRole] Retrying task index 0
[debug] [2025-09-26T03:06:24.140Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:24.140Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:24.140Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ [none]
[debug] [2025-09-26T03:06:24.520Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ 200
[debug] [2025-09-26T03:06:24.521Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/setUserRole","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"setUserRole","updateTime":"2025-09-26T02:45:48.997Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole"},"runtime":"nodejs20","buildId":"ba300a67-db33-47de-841c-bdae3b3f3c30","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/ba300a67-db33-47de-841c-bdae3b3f3c30","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:06:09Z","buildId":"da93c0f1-8ba2-44ae-a742-75968a549134","buildName":"projects/875924720631/locations/us-central1/builds/da93c0f1-8ba2-44ae-a742-75968a549134"}}
[debug] [2025-09-26T03:06:24.623Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B 200
[debug] [2025-09-26T03:06:24.623Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/ruff-7d37f","service":"firebaseauth.googleapis.com"},"status":"OFFLINE","entryPoint":"onCreateSetDefaultRole","updateTime":"2025-09-26T02:45:49.426Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole"},"runtime":"nodejs20","buildId":"a10cde96-3c18-41fa-8423-04aff9d6f658","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/a10cde96-3c18-41fa-8423-04aff9d6f658","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:06:09Z","buildId":"b5aa498a-113a-45c0-b367-3c07ca6885a1","buildName":"projects/875924720631/locations/us-central1/builds/b5aa498a-113a-45c0-b367-3c07ca6885a1"}}
[debug] [2025-09-26T03:06:34.529Z] [update-default-us-central1-setUserRole] Retrying task index 0
[debug] [2025-09-26T03:06:34.531Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:34.531Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:34.532Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ [none]
[debug] [2025-09-26T03:06:34.632Z] [update-default-us-central1-onCreateSetDefaultRole] Retrying task index 0
[debug] [2025-09-26T03:06:34.633Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:34.633Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:34.633Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B [none]
[debug] [2025-09-26T03:06:34.965Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ 200
[debug] [2025-09-26T03:06:34.965Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/setUserRole","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"setUserRole","updateTime":"2025-09-26T02:45:48.997Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole"},"runtime":"nodejs20","buildId":"ba300a67-db33-47de-841c-bdae3b3f3c30","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/ba300a67-db33-47de-841c-bdae3b3f3c30","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:06:09Z","buildId":"da93c0f1-8ba2-44ae-a742-75968a549134","buildName":"projects/875924720631/locations/us-central1/builds/da93c0f1-8ba2-44ae-a742-75968a549134"}}
[debug] [2025-09-26T03:06:35.169Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B 200
[debug] [2025-09-26T03:06:35.169Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/ruff-7d37f","service":"firebaseauth.googleapis.com"},"status":"OFFLINE","entryPoint":"onCreateSetDefaultRole","updateTime":"2025-09-26T02:45:49.426Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole"},"runtime":"nodejs20","buildId":"a10cde96-3c18-41fa-8423-04aff9d6f658","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/a10cde96-3c18-41fa-8423-04aff9d6f658","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:06:09Z","buildId":"b5aa498a-113a-45c0-b367-3c07ca6885a1","buildName":"projects/875924720631/locations/us-central1/builds/b5aa498a-113a-45c0-b367-3c07ca6885a1"}}
[debug] [2025-09-26T03:06:44.969Z] [update-default-us-central1-setUserRole] Retrying task index 0
[debug] [2025-09-26T03:06:44.969Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:44.969Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:44.969Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ [none]
[debug] [2025-09-26T03:06:45.176Z] [update-default-us-central1-onCreateSetDefaultRole] Retrying task index 0
[debug] [2025-09-26T03:06:45.176Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:45.176Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:45.176Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B [none]
[debug] [2025-09-26T03:06:45.514Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ 200
[debug] [2025-09-26T03:06:45.514Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9zZXRVc2VyUm9sZS9iRUFFS1pobWlzVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/setUserRole","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"setUserRole","updateTime":"2025-09-26T02:45:48.997Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole"},"runtime":"nodejs20","buildId":"ba300a67-db33-47de-841c-bdae3b3f3c30","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/ba300a67-db33-47de-841c-bdae3b3f3c30","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:06:40Z","buildId":"da93c0f1-8ba2-44ae-a742-75968a549134","buildName":"projects/875924720631/locations/us-central1/builds/da93c0f1-8ba2-44ae-a742-75968a549134"},"done":true,"error":{"code":3,"message":"Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's firebase-admin@13.5.0 does not satisfy firebase-admin@12.7.0\nnpm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1\nnpm error Invalid: lock file's @firebase/database-compat@2.1.0 does not satisfy @firebase/database-compat@1.0.8\nnpm error Invalid: lock file's @firebase/database-types@1.0.16 does not satisfy @firebase/database-types@1.0.5\nnpm error Invalid: lock file's uuid@11.1.0 does not satisfy uuid@10.0.0\nnpm error Invalid: lock file's @firebase/component@0.7.0 does not satisfy @firebase/component@0.6.9\nnpm error Invalid: lock file's @firebase/database@1.1.0 does not satisfy @firebase/database@1.0.8\nnpm error Invalid: lock file's @firebase/logger@0.5.0 does not satisfy @firebase/logger@0.4.2\nnpm error Invalid: lock file's @firebase/util@1.13.0 does not satisfy @firebase/util@1.10.0\nnpm error Invalid: lock file's @firebase/app-check-interop-types@0.3.3 does not satisfy @firebase/app-check-interop-types@0.3.2\nnpm error Invalid: lock file's @firebase/auth-interop-types@0.2.4 does not satisfy @firebase/auth-interop-types@0.2.3\nnpm error Invalid: lock file's @firebase/app-types@0.9.3 does not satisfy @firebase/app-types@0.9.2\nnpm error Missing: @types/express@4.17.3 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-26T03_06_28_285Z-debug-0.log; Error ID: 7fa33aaa"}}
[debug] [2025-09-26T03:06:45.514Z] Got source token undefined for region us-central1
[error] Build failed: npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Invalid: lock file's firebase-admin@13.5.0 does not satisfy firebase-admin@12.7.0
npm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1
npm error Invalid: lock file's @firebase/database-compat@2.1.0 does not satisfy @firebase/database-compat@1.0.8
npm error Invalid: lock file's @firebase/database-types@1.0.16 does not satisfy @firebase/database-types@1.0.5
npm error Invalid: lock file's uuid@11.1.0 does not satisfy uuid@10.0.0
npm error Invalid: lock file's @firebase/component@0.7.0 does not satisfy @firebase/component@0.6.9
npm error Invalid: lock file's @firebase/database@1.1.0 does not satisfy @firebase/database@1.0.8
npm error Invalid: lock file's @firebase/logger@0.5.0 does not satisfy @firebase/logger@0.4.2
npm error Invalid: lock file's @firebase/util@1.13.0 does not satisfy @firebase/util@1.10.0
npm error Invalid: lock file's @firebase/app-check-interop-types@0.3.3 does not satisfy @firebase/app-check-interop-types@0.3.2
npm error Invalid: lock file's @firebase/auth-interop-types@0.2.4 does not satisfy @firebase/auth-interop-types@0.2.3
npm error Invalid: lock file's @firebase/app-types@0.9.3 does not satisfy @firebase/app-types@0.9.2
npm error Missing: @types/express@4.17.3 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info
npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-26T03_06_28_285Z-debug-0.log; Error ID: 7fa33aaa
[debug] [2025-09-26T03:06:45.716Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B 200
[debug] [2025-09-26T03:06:45.717Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B {"name":"operations/cnVmZi03ZDM3Zi91cy1jZW50cmFsMS9vbkNyZWF0ZVNldERlZmF1bHRSb2xlL2VqakJGVGMtMl9B","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/ruff-7d37f","service":"firebaseauth.googleapis.com"},"status":"OFFLINE","entryPoint":"onCreateSetDefaultRole","updateTime":"2025-09-26T02:45:49.426Z","versionId":"1","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip?GoogleAccessId=service-875924720631@gcf-admin-robot.iam.gserviceaccount.com&Expires=1758857727&Signature=FE0axbh0RnaJLFS%2FSpnL0Mh9%2BbyoQNlUUeg6lyKuUxegM9XDD2Q5T%2Fb1ITbv3EJQvG9J90nh0CN%2BVWOmbTIywxeNm%2BAMep5mFnNaYPYlbnGmnQu20x4vbK7aMs1HY6QeXsua5ibpqseBclQfEy3q83wA6r86dgJa%2BK6ZrQ%2Fkdjlbv%2FtIDALCD0AtxTtEvaXYGQcLBIeY441Zuf2eCDXsSKwUu%2Bf56zFTYX1tgjlvqXHesXGLXNyH%2F%2FxZu0TyIcX7rv%2FGekah%2F6MwKPW9M4h20OvzcpV2F4sBS2EWVQA2ndx6UrdVffbSGnKBgpKx0bbxW%2BJQTnu4udz%2FXwACGab0vQ%3D%3D","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole"},"runtime":"nodejs20","buildId":"a10cde96-3c18-41fa-8423-04aff9d6f658","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/a10cde96-3c18-41fa-8423-04aff9d6f658","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com"},"versionId":"2","updateTime":"2025-09-26T03:06:38Z","buildId":"b5aa498a-113a-45c0-b367-3c07ca6885a1","buildName":"projects/875924720631/locations/us-central1/builds/b5aa498a-113a-45c0-b367-3c07ca6885a1"},"done":true,"error":{"code":3,"message":"Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's firebase-admin@13.5.0 does not satisfy firebase-admin@12.7.0\nnpm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1\nnpm error Invalid: lock file's @firebase/database-compat@2.1.0 does not satisfy @firebase/database-compat@1.0.8\nnpm error Invalid: lock file's @firebase/database-types@1.0.16 does not satisfy @firebase/database-types@1.0.5\nnpm error Invalid: lock file's uuid@11.1.0 does not satisfy uuid@10.0.0\nnpm error Invalid: lock file's @firebase/component@0.7.0 does not satisfy @firebase/component@0.6.9\nnpm error Invalid: lock file's @firebase/database@1.1.0 does not satisfy @firebase/database@1.0.8\nnpm error Invalid: lock file's @firebase/logger@0.5.0 does not satisfy @firebase/logger@0.4.2\nnpm error Invalid: lock file's @firebase/util@1.13.0 does not satisfy @firebase/util@1.10.0\nnpm error Invalid: lock file's @firebase/app-check-interop-types@0.3.3 does not satisfy @firebase/app-check-interop-types@0.3.2\nnpm error Invalid: lock file's @firebase/auth-interop-types@0.2.4 does not satisfy @firebase/auth-interop-types@0.2.3\nnpm error Invalid: lock file's @firebase/app-types@0.9.3 does not satisfy @firebase/app-types@0.9.2\nnpm error Missing: @types/express@4.17.3 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-26T03_06_27_519Z-debug-0.log; Error ID: 7fa33aaa"}}
[debug] [2025-09-26T03:06:45.717Z] Got source token undefined for region us-central1
[error] Build failed: npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Invalid: lock file's firebase-admin@13.5.0 does not satisfy firebase-admin@12.7.0
npm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1
npm error Invalid: lock file's @firebase/database-compat@2.1.0 does not satisfy @firebase/database-compat@1.0.8
npm error Invalid: lock file's @firebase/database-types@1.0.16 does not satisfy @firebase/database-types@1.0.5
npm error Invalid: lock file's uuid@11.1.0 does not satisfy uuid@10.0.0
npm error Invalid: lock file's @firebase/component@0.7.0 does not satisfy @firebase/component@0.6.9
npm error Invalid: lock file's @firebase/database@1.1.0 does not satisfy @firebase/database@1.0.8
npm error Invalid: lock file's @firebase/logger@0.5.0 does not satisfy @firebase/logger@0.4.2
npm error Invalid: lock file's @firebase/util@1.13.0 does not satisfy @firebase/util@1.10.0
npm error Invalid: lock file's @firebase/app-check-interop-types@0.3.3 does not satisfy @firebase/app-check-interop-types@0.3.2
npm error Invalid: lock file's @firebase/auth-interop-types@0.2.4 does not satisfy @firebase/auth-interop-types@0.2.3
npm error Invalid: lock file's @firebase/app-types@0.9.3 does not satisfy @firebase/app-types@0.9.2
npm error Missing: @types/express@4.17.3 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info
npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-26T03_06_27_519Z-debug-0.log; Error ID: 7fa33aaa
[debug] [2025-09-26T03:06:45.736Z] Total Function Deployment time: 80999
[debug] [2025-09-26T03:06:45.736Z] 3 Functions Deployed
[debug] [2025-09-26T03:06:45.736Z] 3 Functions Errored
[debug] [2025-09-26T03:06:45.736Z] 0 Function Deployments Aborted
[debug] [2025-09-26T03:06:45.737Z] Average Function Deployment time: 67634.66666666667
[info] 
[info] Functions deploy had errors with the following functions:
	onCreateSetDefaultRole(us-central1)
	ping(us-central1)
	setUserRole(us-central1)
[debug] [2025-09-26T03:06:45.878Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[debug] [2025-09-26T03:06:45.879Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:45.879Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:06:45.880Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-09-26T03:06:47.366Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-09-26T03:06:47.366Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/repositories/gcf-artifacts {"name":"projects/ruff-7d37f/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-09-26T02:44:45.233125Z","updateTime":"2025-09-26T02:44:45.233125Z","mode":"STANDARD_REPOSITORY","vulnerabilityScanningConfig":{"lastEnableTime":"2025-09-26T02:44:36.808462432Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/ruff-7d37f/gcf-artifacts"}
[warn] !  functions: No cleanup policy detected for repositories in us-central1. This may result in a small monthly bill as container images accumulate over time. 
[info] i  functions: Configuring cleanup policy for repository in us-central1. Images older than 7 days will be automatically deleted. 
[debug] [2025-09-26T03:07:37.805Z] Setting up artifact cleanup policy for region us-central1
[debug] [2025-09-26T03:07:37.806Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:07:37.806Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:07:37.807Z] >>> [apiv2][query] PATCH https://artifactregistry.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/repositories/gcf-artifacts updateMask=name%2CcleanupPolicies%2CcleanupPolicyDryRun%2Clabels
[debug] [2025-09-26T03:07:37.807Z] >>> [apiv2][body] PATCH https://artifactregistry.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/repositories/gcf-artifacts {"name":"projects/ruff-7d37f/locations/us-central1/repositories/gcf-artifacts","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","condition":{"tagState":"ANY","olderThan":"604800s"},"action":"DELETE"}},"cleanupPolicyDryRun":false,"labels":{"goog-managed-by":"cloudfunctions"}}
[debug] [2025-09-26T03:07:39.266Z] <<< [apiv2][status] PATCH https://artifactregistry.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-09-26T03:07:39.266Z] <<< [apiv2][body] PATCH https://artifactregistry.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/repositories/gcf-artifacts {"name":"projects/ruff-7d37f/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-09-26T02:44:45.233125Z","updateTime":"2025-09-26T03:07:42.430121Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"604800s"}}},"vulnerabilityScanningConfig":{"lastEnableTime":"2025-09-26T02:44:36.808462432Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true}
[info] i  functions: Configured cleanup policy for repository in us-central1. 
[debug] [2025-09-26T03:07:39.267Z] Functions deploy failed.
[debug] [2025-09-26T03:07:39.267Z] {
  "endpoint": {
    "id": "ping",
    "project": "ruff-7d37f",
    "region": "us-central1",
    "entryPoint": "ping",
    "platform": "gcfv1",
    "runtime": "nodejs20",
    "httpsTrigger": {},
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "ADMINS_EMAILS": "yeat@graduate.utm.my",
      "FIREBASE_CONFIG": "{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "ruff-7d37f",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/ruff-7d37f/locations/us-central1/functions/ping"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "22ad3b01b1739354e8222ee4b623d2c23414bfb9",
    "labels": {
      "deployment-tool": "cli-firebase"
    }
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's firebase-admin@13.5.0 does not satisfy firebase-admin@12.7.0\nnpm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1\nnpm error Invalid: lock file's @firebase/database-compat@2.1.0 does not satisfy @firebase/database-compat@1.0.8\nnpm error Invalid: lock file's @firebase/database-types@1.0.16 does not satisfy @firebase/database-types@1.0.5\nnpm error Invalid: lock file's uuid@11.1.0 does not satisfy uuid@10.0.0\nnpm error Invalid: lock file's @firebase/component@0.7.0 does not satisfy @firebase/component@0.6.9\nnpm error Invalid: lock file's @firebase/database@1.1.0 does not satisfy @firebase/database@1.0.8\nnpm error Invalid: lock file's @firebase/logger@0.5.0 does not satisfy @firebase/logger@0.4.2\nnpm error Invalid: lock file's @firebase/util@1.13.0 does not satisfy @firebase/util@1.10.0\nnpm error Invalid: lock file's @firebase/app-check-interop-types@0.3.3 does not satisfy @firebase/app-check-interop-types@0.3.2\nnpm error Invalid: lock file's @firebase/auth-interop-types@0.2.4 does not satisfy @firebase/auth-interop-types@0.2.3\nnpm error Invalid: lock file's @firebase/app-types@0.9.3 does not satisfy @firebase/app-types@0.9.2\nnpm error Missing: @types/express@4.17.3 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-26T03_05_46_468Z-debug-0.log; Error ID: 7fa33aaa",
    "original": {
      "code": 3,
      "message": "Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's firebase-admin@13.5.0 does not satisfy firebase-admin@12.7.0\nnpm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1\nnpm error Invalid: lock file's @firebase/database-compat@2.1.0 does not satisfy @firebase/database-compat@1.0.8\nnpm error Invalid: lock file's @firebase/database-types@1.0.16 does not satisfy @firebase/database-types@1.0.5\nnpm error Invalid: lock file's uuid@11.1.0 does not satisfy uuid@10.0.0\nnpm error Invalid: lock file's @firebase/component@0.7.0 does not satisfy @firebase/component@0.6.9\nnpm error Invalid: lock file's @firebase/database@1.1.0 does not satisfy @firebase/database@1.0.8\nnpm error Invalid: lock file's @firebase/logger@0.5.0 does not satisfy @firebase/logger@0.4.2\nnpm error Invalid: lock file's @firebase/util@1.13.0 does not satisfy @firebase/util@1.10.0\nnpm error Invalid: lock file's @firebase/app-check-interop-types@0.3.3 does not satisfy @firebase/app-check-interop-types@0.3.2\nnpm error Invalid: lock file's @firebase/auth-interop-types@0.2.4 does not satisfy @firebase/auth-interop-types@0.2.3\nnpm error Invalid: lock file's @firebase/app-types@0.9.3 does not satisfy @firebase/app-types@0.9.2\nnpm error Missing: @types/express@4.17.3 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-26T03_05_46_468Z-debug-0.log; Error ID: 7fa33aaa"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-09-26T03:07:39.268Z] {
  "endpoint": {
    "id": "setUserRole",
    "project": "ruff-7d37f",
    "region": "us-central1",
    "entryPoint": "setUserRole",
    "platform": "gcfv1",
    "runtime": "nodejs20",
    "callableTrigger": {},
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "ADMINS_EMAILS": "yeat@graduate.utm.my",
      "FIREBASE_CONFIG": "{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "ruff-7d37f",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/ruff-7d37f/locations/us-central1/functions/setUserRole"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "22ad3b01b1739354e8222ee4b623d2c23414bfb9"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's firebase-admin@13.5.0 does not satisfy firebase-admin@12.7.0\nnpm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1\nnpm error Invalid: lock file's @firebase/database-compat@2.1.0 does not satisfy @firebase/database-compat@1.0.8\nnpm error Invalid: lock file's @firebase/database-types@1.0.16 does not satisfy @firebase/database-types@1.0.5\nnpm error Invalid: lock file's uuid@11.1.0 does not satisfy uuid@10.0.0\nnpm error Invalid: lock file's @firebase/component@0.7.0 does not satisfy @firebase/component@0.6.9\nnpm error Invalid: lock file's @firebase/database@1.1.0 does not satisfy @firebase/database@1.0.8\nnpm error Invalid: lock file's @firebase/logger@0.5.0 does not satisfy @firebase/logger@0.4.2\nnpm error Invalid: lock file's @firebase/util@1.13.0 does not satisfy @firebase/util@1.10.0\nnpm error Invalid: lock file's @firebase/app-check-interop-types@0.3.3 does not satisfy @firebase/app-check-interop-types@0.3.2\nnpm error Invalid: lock file's @firebase/auth-interop-types@0.2.4 does not satisfy @firebase/auth-interop-types@0.2.3\nnpm error Invalid: lock file's @firebase/app-types@0.9.3 does not satisfy @firebase/app-types@0.9.2\nnpm error Missing: @types/express@4.17.3 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-26T03_06_28_285Z-debug-0.log; Error ID: 7fa33aaa",
    "original": {
      "code": 3,
      "message": "Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's firebase-admin@13.5.0 does not satisfy firebase-admin@12.7.0\nnpm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1\nnpm error Invalid: lock file's @firebase/database-compat@2.1.0 does not satisfy @firebase/database-compat@1.0.8\nnpm error Invalid: lock file's @firebase/database-types@1.0.16 does not satisfy @firebase/database-types@1.0.5\nnpm error Invalid: lock file's uuid@11.1.0 does not satisfy uuid@10.0.0\nnpm error Invalid: lock file's @firebase/component@0.7.0 does not satisfy @firebase/component@0.6.9\nnpm error Invalid: lock file's @firebase/database@1.1.0 does not satisfy @firebase/database@1.0.8\nnpm error Invalid: lock file's @firebase/logger@0.5.0 does not satisfy @firebase/logger@0.4.2\nnpm error Invalid: lock file's @firebase/util@1.13.0 does not satisfy @firebase/util@1.10.0\nnpm error Invalid: lock file's @firebase/app-check-interop-types@0.3.3 does not satisfy @firebase/app-check-interop-types@0.3.2\nnpm error Invalid: lock file's @firebase/auth-interop-types@0.2.4 does not satisfy @firebase/auth-interop-types@0.2.3\nnpm error Invalid: lock file's @firebase/app-types@0.9.3 does not satisfy @firebase/app-types@0.9.2\nnpm error Missing: @types/express@4.17.3 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-26T03_06_28_285Z-debug-0.log; Error ID: 7fa33aaa"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2025-09-26T03:07:39.268Z] {
  "endpoint": {
    "id": "onCreateSetDefaultRole",
    "project": "ruff-7d37f",
    "region": "us-central1",
    "entryPoint": "onCreateSetDefaultRole",
    "platform": "gcfv1",
    "runtime": "nodejs20",
    "eventTrigger": {
      "eventType": "providers/firebase.auth/eventTypes/user.create",
      "retry": false,
      "eventFilters": {
        "resource": "projects/ruff-7d37f"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "serviceAccount": null,
    "ingressSettings": null,
    "availableMemoryMb": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "vpc": null,
    "environmentVariables": {
      "ADMINS_EMAILS": "yeat@graduate.utm.my",
      "FIREBASE_CONFIG": "{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}",
      "GCLOUD_PROJECT": "ruff-7d37f",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole"
    },
    "codebase": "default",
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "22ad3b01b1739354e8222ee4b623d2c23414bfb9"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's firebase-admin@13.5.0 does not satisfy firebase-admin@12.7.0\nnpm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1\nnpm error Invalid: lock file's @firebase/database-compat@2.1.0 does not satisfy @firebase/database-compat@1.0.8\nnpm error Invalid: lock file's @firebase/database-types@1.0.16 does not satisfy @firebase/database-types@1.0.5\nnpm error Invalid: lock file's uuid@11.1.0 does not satisfy uuid@10.0.0\nnpm error Invalid: lock file's @firebase/component@0.7.0 does not satisfy @firebase/component@0.6.9\nnpm error Invalid: lock file's @firebase/database@1.1.0 does not satisfy @firebase/database@1.0.8\nnpm error Invalid: lock file's @firebase/logger@0.5.0 does not satisfy @firebase/logger@0.4.2\nnpm error Invalid: lock file's @firebase/util@1.13.0 does not satisfy @firebase/util@1.10.0\nnpm error Invalid: lock file's @firebase/app-check-interop-types@0.3.3 does not satisfy @firebase/app-check-interop-types@0.3.2\nnpm error Invalid: lock file's @firebase/auth-interop-types@0.2.4 does not satisfy @firebase/auth-interop-types@0.2.3\nnpm error Invalid: lock file's @firebase/app-types@0.9.3 does not satisfy @firebase/app-types@0.9.2\nnpm error Missing: @types/express@4.17.3 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-26T03_06_27_519Z-debug-0.log; Error ID: 7fa33aaa",
    "original": {
      "code": 3,
      "message": "Build failed: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's firebase-admin@13.5.0 does not satisfy firebase-admin@12.7.0\nnpm error Invalid: lock file's firebase-functions@6.4.0 does not satisfy firebase-functions@5.1.1\nnpm error Invalid: lock file's @firebase/database-compat@2.1.0 does not satisfy @firebase/database-compat@1.0.8\nnpm error Invalid: lock file's @firebase/database-types@1.0.16 does not satisfy @firebase/database-types@1.0.5\nnpm error Invalid: lock file's uuid@11.1.0 does not satisfy uuid@10.0.0\nnpm error Invalid: lock file's @firebase/component@0.7.0 does not satisfy @firebase/component@0.6.9\nnpm error Invalid: lock file's @firebase/database@1.1.0 does not satisfy @firebase/database@1.0.8\nnpm error Invalid: lock file's @firebase/logger@0.5.0 does not satisfy @firebase/logger@0.4.2\nnpm error Invalid: lock file's @firebase/util@1.13.0 does not satisfy @firebase/util@1.10.0\nnpm error Invalid: lock file's @firebase/app-check-interop-types@0.3.3 does not satisfy @firebase/app-check-interop-types@0.3.2\nnpm error Invalid: lock file's @firebase/auth-interop-types@0.2.4 does not satisfy @firebase/auth-interop-types@0.2.3\nnpm error Invalid: lock file's @firebase/app-types@0.9.3 does not satisfy @firebase/app-types@0.9.2\nnpm error Missing: @types/express@4.17.3 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2025-09-26T03_06_27_519Z-debug-0.log; Error ID: 7fa33aaa"
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to update function ping in region us-central1
[error] - Error Failed to update function setUserRole in region us-central1
[error] - Error Failed to update function onCreateSetDefaultRole in region us-central1
[debug] [2025-09-26T03:34:51.715Z] ----------------------------------------------------------------------
[debug] [2025-09-26T03:34:51.737Z] Command:       C:\nvm4w\nodejs\node.exe C:\Users\yeatj\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2025-09-26T03:34:51.738Z] CLI Version:   14.17.0
[debug] [2025-09-26T03:34:51.738Z] Platform:      win32
[debug] [2025-09-26T03:34:51.738Z] Node Version:  v23.11.0
[debug] [2025-09-26T03:34:51.739Z] Time:          Fri Sep 26 2025 11:34:51 GMT+0800 (Malaysia Time)
[debug] [2025-09-26T03:34:51.740Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-09-26T03:34:52.268Z] Object "" in "firebase.json" has unknown property: {"additionalProperty":"flutter"}
[debug] [2025-09-26T03:34:52.294Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-09-26T03:34:52.295Z] > authorizing via signed-in user (yeatjingrong@gmail.com)
[debug] [2025-09-26T03:34:52.295Z] [iam] checking project ruff-7d37f for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-09-26T03:34:52.298Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:34:52.298Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:34:52.300Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions [none]
[debug] [2025-09-26T03:34:52.301Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions x-goog-quota-user=projects/ruff-7d37f
[debug] [2025-09-26T03:34:52.301Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-26T03:34:54.206Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions 200
[debug] [2025-09-26T03:34:54.207Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-26T03:34:54.208Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:34:54.208Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:34:54.209Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/ruff-7d37f/serviceAccounts/ruff-7d37f@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-09-26T03:34:54.209Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/ruff-7d37f/serviceAccounts/ruff-7d37f@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-09-26T03:34:55.919Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/ruff-7d37f/serviceAccounts/ruff-7d37f@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-09-26T03:34:55.920Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/ruff-7d37f/serviceAccounts/ruff-7d37f@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'ruff-7d37f'...
[info] 
[info] i  deploying functions 
[debug] [2025-09-26T03:34:55.930Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:34:55.931Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:34:55.931Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f [none]
[debug] [2025-09-26T03:34:56.246Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f 200
[debug] [2025-09-26T03:34:56.247Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f {"projectNumber":"875924720631","projectId":"ruff-7d37f","lifecycleState":"ACTIVE","name":"Ruff","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-21T10:28:16.225966Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-09-26T03:34:56.254Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:34:56.255Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:34:56.255Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/ruff-7d37f/adminSdkConfig [none]
[debug] [2025-09-26T03:34:57.864Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/ruff-7d37f/adminSdkConfig 200
[debug] [2025-09-26T03:34:57.865Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/ruff-7d37f/adminSdkConfig {"projectId":"ruff-7d37f","storageBucket":"ruff-7d37f.firebasestorage.app"}
[debug] [2025-09-26T03:34:57.865Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:34:57.865Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:34:57.866Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs [none]
[debug] [2025-09-26T03:34:58.785Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs 200
[debug] [2025-09-26T03:34:58.785Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs {"configs":[{"name":"projects/ruff-7d37f/configs/admins"}]}
[debug] [2025-09-26T03:34:58.786Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:34:58.786Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:34:58.786Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs/admins/variables [none]
[debug] [2025-09-26T03:35:00.002Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs/admins/variables 200
[debug] [2025-09-26T03:35:00.002Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs/admins/variables {"variables":[{"name":"projects/ruff-7d37f/configs/admins/variables/emails","updateTime":"2025-09-26T02:23:01.711751566Z"}]}
[debug] [2025-09-26T03:35:00.003Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:00.003Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:00.003Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs/admins/variables/emails [none]
[debug] [2025-09-26T03:35:00.323Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs/admins/variables/emails 200
[debug] [2025-09-26T03:35:00.324Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs/admins/variables/emails {"name":"projects/ruff-7d37f/configs/admins/variables/emails","updateTime":"2025-09-26T02:23:01.711751566Z","text":"yeat@graduate.utm.my"}
[debug] [2025-09-26T03:35:00.335Z] Validating nodejs source
[debug] [2025-09-26T03:35:03.818Z] > [functions] package.json contents: {
  "name": "functions",
  "main": "index.js",
  "type": "commonjs",
  "engines": {
    "node": "20"
  },
  "scripts": {
    "lint": "eslint ."
  },
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^5.1.1"
  },
  "devDependencies": {
    "eslint": "^8.57.1",
    "eslint-config-google": "^0.14.0"
  },
  "someObject": {
    "key1": "value1",
    "key2": "value2"
  },
  "eslintConfig": {
    "extends": "google"
  },
  "eslint": {
    "files": [
      "**/*.js"
    ],
    "rules": {
      "semi": [
        "error",
        "always"
      ],
      "comma-dangle": [
        "error",
        "always-multiline"
      ]
    }
  }
}
[debug] [2025-09-26T03:35:03.818Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-09-26T03:35:03.823Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-09-26T03:35:03.852Z] Found firebase-functions binary at 'C:\Users\yeatj\Documents\SELF\CodeNection\ruff 1stver\ruff\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8952

[debug] [2025-09-26T03:35:06.117Z] Got response from /__/functions.yaml {"endpoints":{"ping":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"ping"},"setUserRole":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"setUserRole"},"onCreateSetDefaultRole":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/ruff-7d37f"},"retry":false},"labels":{},"entryPoint":"onCreateSetDefaultRole"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-09-26T03:35:10.219Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-09-26T03:35:10.220Z] > authorizing via signed-in user (yeatjingrong@gmail.com)
[debug] [2025-09-26T03:35:10.220Z] [iam] checking project ruff-7d37f for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-09-26T03:35:10.220Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:10.220Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:10.220Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions [none]
[debug] [2025-09-26T03:35:10.221Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions x-goog-quota-user=projects/ruff-7d37f
[debug] [2025-09-26T03:35:10.221Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-09-26T03:35:11.586Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions 200
[debug] [2025-09-26T03:35:11.586Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-09-26T03:35:11.587Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:11.587Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:11.588Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/ruff-7d37f/instances pageSize=100&pageToken=
[debug] [2025-09-26T03:35:13.152Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/ruff-7d37f/instances 200
[debug] [2025-09-26T03:35:13.152Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/ruff-7d37f/instances {}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\yeatj\Documents\SELF\CodeNection\ruff 1stver\ruff\functions (45.17 KB) for uploading 
[debug] [2025-09-26T03:35:13.288Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:13.288Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:13.289Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/-/functions [none]
[debug] [2025-09-26T03:35:14.353Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/-/functions 200
[debug] [2025-09-26T03:35:14.353Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/-/functions {"functions":[{"name":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/setUserRole","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"setUserRole","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ruff-7d37f@appspot.gserviceaccount.com","updateTime":"2025-09-26T02:45:50.679963999Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"da93c0f1-8ba2-44ae-a742-75968a549134","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/da93c0f1-8ba2-44ae-a742-75968a549134","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/ruff-7d37f","service":"firebaseauth.googleapis.com","failurePolicy":{}},"status":"OFFLINE","entryPoint":"onCreateSetDefaultRole","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ruff-7d37f@appspot.gserviceaccount.com","updateTime":"2025-09-26T02:45:49.895241891Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"b5aa498a-113a-45c0-b367-3c07ca6885a1","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/b5aa498a-113a-45c0-b367-3c07ca6885a1","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/ruff-7d37f/locations/us-central1/functions/ping","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/ping","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"ping","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ruff-7d37f@appspot.gserviceaccount.com","updateTime":"2025-09-26T02:45:18.937885721Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/ping"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ac56e279-08ed-45ef-9f8f-eb9347db07f3","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/ac56e279-08ed-45ef-9f8f-eb9347db07f3","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com","satisfiesPzi":true}]}
[debug] [2025-09-26T03:35:14.356Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:14.356Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:14.357Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/ruff-7d37f/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-09-26T03:35:16.094Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/ruff-7d37f/locations/-/functions 200
[debug] [2025-09-26T03:35:16.094Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/ruff-7d37f/locations/-/functions {}
[debug] [2025-09-26T03:35:16.102Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:16.102Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:16.103Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f [none]
[debug] [2025-09-26T03:35:16.425Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f 200
[debug] [2025-09-26T03:35:16.425Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f {"projectNumber":"875924720631","projectId":"ruff-7d37f","lifecycleState":"ACTIVE","name":"Ruff","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-21T10:28:16.225966Z"}
[debug] [2025-09-26T03:35:16.427Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:16.428Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:16.428Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/ruff-7d37f/billingInfo [none]
[debug] [2025-09-26T03:35:17.215Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/ruff-7d37f/billingInfo 200
[debug] [2025-09-26T03:35:17.215Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/ruff-7d37f/billingInfo {"name":"projects/ruff-7d37f/billingInfo","projectId":"ruff-7d37f","billingAccountName":"billingAccounts/01FC85-C794FC-1B7335","billingEnabled":true}
[info] i  functions: updating Node.js 20 (1st Gen) function ping(us-central1)... 
[debug] [2025-09-26T03:35:17.226Z] Precondition failed. Cannot update a GCF function without sourceUrl
[info] i  functions: updating Node.js 20 (1st Gen) function setUserRole(us-central1)... 
[debug] [2025-09-26T03:35:17.227Z] Precondition failed. Cannot update a GCF function without sourceUrl
[info] i  functions: updating Node.js 20 (1st Gen) function onCreateSetDefaultRole(us-central1)... 
[debug] [2025-09-26T03:35:17.228Z] Precondition failed. Cannot update a GCF function without sourceUrl
[debug] [2025-09-26T03:35:17.247Z] Total Function Deployment time: 6
[debug] [2025-09-26T03:35:17.247Z] 3 Functions Deployed
[debug] [2025-09-26T03:35:17.247Z] 3 Functions Errored
[debug] [2025-09-26T03:35:17.247Z] 0 Function Deployments Aborted
[debug] [2025-09-26T03:35:17.248Z] Average Function Deployment time: 1.3333333333333333
[info] 
[info] Functions deploy had errors with the following functions:
	onCreateSetDefaultRole(us-central1)
	ping(us-central1)
	setUserRole(us-central1)
[debug] [2025-09-26T03:35:17.614Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[debug] [2025-09-26T03:35:17.615Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:17.615Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:17.615Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-09-26T03:35:19.469Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-09-26T03:35:19.469Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/repositories/gcf-artifacts {"name":"projects/ruff-7d37f/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-09-26T02:44:45.233125Z","updateTime":"2025-09-26T03:07:42.430121Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"604800s"}}},"vulnerabilityScanningConfig":{"lastEnableTime":"2025-09-26T02:44:36.808462432Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/ruff-7d37f/gcf-artifacts"}
[debug] [2025-09-26T03:35:19.470Z] Functions deploy failed.
[debug] [2025-09-26T03:35:19.470Z] {}
[debug] [2025-09-26T03:35:19.470Z] {}
[debug] [2025-09-26T03:35:19.470Z] {}
[error] Error: There was an error deploying functions:
[error] - Error Precondition failed
[error] - Error Precondition failed
[error] - Error Precondition failed
[debug] [2025-09-26T03:35:26.446Z] ----------------------------------------------------------------------
[debug] [2025-09-26T03:35:26.453Z] Command:       C:\nvm4w\nodejs\node.exe C:\Users\yeatj\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2025-09-26T03:35:26.455Z] CLI Version:   14.17.0
[debug] [2025-09-26T03:35:26.455Z] Platform:      win32
[debug] [2025-09-26T03:35:26.456Z] Node Version:  v23.11.0
[debug] [2025-09-26T03:35:26.457Z] Time:          Fri Sep 26 2025 11:35:26 GMT+0800 (Malaysia Time)
[debug] [2025-09-26T03:35:26.457Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-09-26T03:35:26.974Z] Object "" in "firebase.json" has unknown property: {"additionalProperty":"flutter"}
[debug] [2025-09-26T03:35:26.983Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-09-26T03:35:26.984Z] > authorizing via signed-in user (yeatjingrong@gmail.com)
[debug] [2025-09-26T03:35:26.984Z] [iam] checking project ruff-7d37f for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2025-09-26T03:35:26.988Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:26.988Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:26.991Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions [none]
[debug] [2025-09-26T03:35:26.991Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions x-goog-quota-user=projects/ruff-7d37f
[debug] [2025-09-26T03:35:26.991Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-26T03:35:28.702Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions 200
[debug] [2025-09-26T03:35:28.703Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2025-09-26T03:35:28.704Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:28.705Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:28.705Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/ruff-7d37f/serviceAccounts/ruff-7d37f@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-09-26T03:35:28.705Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/ruff-7d37f/serviceAccounts/ruff-7d37f@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-09-26T03:35:30.426Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/ruff-7d37f/serviceAccounts/ruff-7d37f@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2025-09-26T03:35:30.426Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/ruff-7d37f/serviceAccounts/ruff-7d37f@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'ruff-7d37f'...
[info] 
[info] i  deploying functions 
[debug] [2025-09-26T03:35:30.435Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:30.435Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:30.436Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f [none]
[debug] [2025-09-26T03:35:30.834Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f 200
[debug] [2025-09-26T03:35:30.835Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f {"projectNumber":"875924720631","projectId":"ruff-7d37f","lifecycleState":"ACTIVE","name":"Ruff","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-21T10:28:16.225966Z"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2025-09-26T03:35:30.843Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:30.843Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:30.843Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/ruff-7d37f/adminSdkConfig [none]
[debug] [2025-09-26T03:35:32.374Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/ruff-7d37f/adminSdkConfig 200
[debug] [2025-09-26T03:35:32.374Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/ruff-7d37f/adminSdkConfig {"projectId":"ruff-7d37f","storageBucket":"ruff-7d37f.firebasestorage.app"}
[debug] [2025-09-26T03:35:32.375Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:32.375Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:32.375Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs [none]
[debug] [2025-09-26T03:35:32.883Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs 200
[debug] [2025-09-26T03:35:32.883Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs {"configs":[{"name":"projects/ruff-7d37f/configs/admins"}]}
[debug] [2025-09-26T03:35:32.884Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:32.884Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:32.884Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs/admins/variables [none]
[debug] [2025-09-26T03:35:33.197Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs/admins/variables 200
[debug] [2025-09-26T03:35:33.197Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs/admins/variables {"variables":[{"name":"projects/ruff-7d37f/configs/admins/variables/emails","updateTime":"2025-09-26T02:23:01.711751566Z"}]}
[debug] [2025-09-26T03:35:33.198Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:33.198Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:33.198Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs/admins/variables/emails [none]
[debug] [2025-09-26T03:35:34.307Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs/admins/variables/emails 200
[debug] [2025-09-26T03:35:34.307Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/ruff-7d37f/configs/admins/variables/emails {"name":"projects/ruff-7d37f/configs/admins/variables/emails","updateTime":"2025-09-26T02:23:01.711751566Z","text":"yeat@graduate.utm.my"}
[debug] [2025-09-26T03:35:34.311Z] Validating nodejs source
[debug] [2025-09-26T03:35:37.090Z] > [functions] package.json contents: {
  "name": "functions",
  "main": "index.js",
  "type": "commonjs",
  "engines": {
    "node": "20"
  },
  "scripts": {
    "lint": "eslint ."
  },
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^5.1.1"
  },
  "devDependencies": {
    "eslint": "^8.57.1",
    "eslint-config-google": "^0.14.0"
  },
  "someObject": {
    "key1": "value1",
    "key2": "value2"
  },
  "eslintConfig": {
    "extends": "google"
  },
  "eslint": {
    "files": [
      "**/*.js"
    ],
    "rules": {
      "semi": [
        "error",
        "always"
      ],
      "comma-dangle": [
        "error",
        "always-multiline"
      ]
    }
  }
}
[debug] [2025-09-26T03:35:37.091Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2025-09-26T03:35:37.095Z] Could not find functions.yaml. Must use http discovery
[debug] [2025-09-26T03:35:37.119Z] Found firebase-functions binary at 'C:\Users\yeatj\Documents\SELF\CodeNection\ruff 1stver\ruff\functions\node_modules\.bin\firebase-functions'
[info] Serving at port 8173

[debug] [2025-09-26T03:35:38.904Z] Got response from /__/functions.yaml {"endpoints":{"ping":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"httpsTrigger":{},"entryPoint":"ping"},"setUserRole":{"platform":"gcfv1","labels":{},"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"callableTrigger":{},"entryPoint":"setUserRole"},"onCreateSetDefaultRole":{"platform":"gcfv1","availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"serviceAccountEmail":null,"vpc":null,"eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","eventFilters":{"resource":"projects/ruff-7d37f"},"retry":false},"labels":{},"entryPoint":"onCreateSetDefaultRole"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2025-09-26T03:35:42.989Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-09-26T03:35:42.990Z] > authorizing via signed-in user (yeatjingrong@gmail.com)
[debug] [2025-09-26T03:35:42.990Z] [iam] checking project ruff-7d37f for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2025-09-26T03:35:42.990Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:42.990Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:42.990Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions [none]
[debug] [2025-09-26T03:35:42.990Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions x-goog-quota-user=projects/ruff-7d37f
[debug] [2025-09-26T03:35:42.990Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-09-26T03:35:44.559Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions 200
[debug] [2025-09-26T03:35:44.559Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2025-09-26T03:35:44.560Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:44.560Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:44.561Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/ruff-7d37f/instances pageSize=100&pageToken=
[debug] [2025-09-26T03:35:46.093Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/ruff-7d37f/instances 200
[debug] [2025-09-26T03:35:46.094Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/ruff-7d37f/instances {}
[info] i  functions: Loaded environment variables from .env. 
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\yeatj\Documents\SELF\CodeNection\ruff 1stver\ruff\functions (45.17 KB) for uploading 
[debug] [2025-09-26T03:35:46.247Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:46.247Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:46.248Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/-/functions [none]
[debug] [2025-09-26T03:35:47.223Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/-/functions 200
[debug] [2025-09-26T03:35:47.224Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/ruff-7d37f/locations/-/functions {"functions":[{"name":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/setUserRole","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"setUserRole","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ruff-7d37f@appspot.gserviceaccount.com","updateTime":"2025-09-26T02:45:50.679963999Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","deployment-callable":"true","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/setUserRole"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"da93c0f1-8ba2-44ae-a742-75968a549134","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/da93c0f1-8ba2-44ae-a742-75968a549134","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole","eventTrigger":{"eventType":"providers/firebase.auth/eventTypes/user.create","resource":"projects/ruff-7d37f","service":"firebaseauth.googleapis.com","failurePolicy":{}},"status":"OFFLINE","entryPoint":"onCreateSetDefaultRole","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ruff-7d37f@appspot.gserviceaccount.com","updateTime":"2025-09-26T02:45:49.895241891Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/onCreateSetDefaultRole"},"runtime":"nodejs20","maxInstances":3000,"ingressSettings":"ALLOW_ALL","buildId":"b5aa498a-113a-45c0-b367-3c07ca6885a1","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/b5aa498a-113a-45c0-b367-3c07ca6885a1","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com","satisfiesPzi":true},{"name":"projects/ruff-7d37f/locations/us-central1/functions/ping","httpsTrigger":{"url":"https://us-central1-ruff-7d37f.cloudfunctions.net/ping","securityLevel":"SECURE_ALWAYS"},"status":"OFFLINE","entryPoint":"ping","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ruff-7d37f@appspot.gserviceaccount.com","updateTime":"2025-09-26T02:45:18.937885721Z","versionId":"2","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"22ad3b01b1739354e8222ee4b623d2c23414bfb9"},"sourceUploadUrl":"https://storage.googleapis.com/uploads-729236409009.us-central1.cloudfunctions.appspot.com/d7251e78-5781-4b25-ba0c-514038811d0e.zip","environmentVariables":{"ADMINS_EMAILS":"yeat@graduate.utm.my","FIREBASE_CONFIG":"{\"projectId\":\"ruff-7d37f\",\"storageBucket\":\"ruff-7d37f.firebasestorage.app\"}","GCLOUD_PROJECT":"ruff-7d37f","EVENTARC_CLOUD_EVENT_SOURCE":"projects/ruff-7d37f/locations/us-central1/functions/ping"},"runtime":"nodejs20","ingressSettings":"ALLOW_ALL","buildId":"ac56e279-08ed-45ef-9f8f-eb9347db07f3","buildEnvironmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"buildName":"projects/875924720631/locations/us-central1/builds/ac56e279-08ed-45ef-9f8f-eb9347db07f3","dockerRegistry":"ARTIFACT_REGISTRY","automaticUpdatePolicy":{},"buildServiceAccount":"projects/ruff-7d37f/serviceAccounts/875924720631-compute@developer.gserviceaccount.com","satisfiesPzi":true}]}
[debug] [2025-09-26T03:35:47.226Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:47.226Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:47.226Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/ruff-7d37f/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2025-09-26T03:35:48.139Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/ruff-7d37f/locations/-/functions 200
[debug] [2025-09-26T03:35:48.139Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/ruff-7d37f/locations/-/functions {}
[debug] [2025-09-26T03:35:48.147Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:48.148Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:48.148Z] >>> [apiv2][query] GET https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f [none]
[debug] [2025-09-26T03:35:48.545Z] <<< [apiv2][status] GET https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f 200
[debug] [2025-09-26T03:35:48.545Z] <<< [apiv2][body] GET https://cloudresourcemanager.googleapis.com/v1/projects/ruff-7d37f {"projectNumber":"875924720631","projectId":"ruff-7d37f","lifecycleState":"ACTIVE","name":"Ruff","labels":{"firebase":"enabled","firebase-core":"disabled"},"createTime":"2025-09-21T10:28:16.225966Z"}
[debug] [2025-09-26T03:35:48.547Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:48.547Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:48.548Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/ruff-7d37f/billingInfo [none]
[debug] [2025-09-26T03:35:50.292Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/ruff-7d37f/billingInfo 200
[debug] [2025-09-26T03:35:50.292Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/ruff-7d37f/billingInfo {"name":"projects/ruff-7d37f/billingInfo","projectId":"ruff-7d37f","billingAccountName":"billingAccounts/01FC85-C794FC-1B7335","billingEnabled":true}
[info] i  functions: updating Node.js 20 (1st Gen) function ping(us-central1)... 
[debug] [2025-09-26T03:35:50.304Z] Precondition failed. Cannot update a GCF function without sourceUrl
[info] i  functions: updating Node.js 20 (1st Gen) function setUserRole(us-central1)... 
[debug] [2025-09-26T03:35:50.307Z] Precondition failed. Cannot update a GCF function without sourceUrl
[info] i  functions: updating Node.js 20 (1st Gen) function onCreateSetDefaultRole(us-central1)... 
[debug] [2025-09-26T03:35:50.309Z] Precondition failed. Cannot update a GCF function without sourceUrl
[debug] [2025-09-26T03:35:50.328Z] Total Function Deployment time: 9
[debug] [2025-09-26T03:35:50.329Z] 3 Functions Deployed
[debug] [2025-09-26T03:35:50.329Z] 3 Functions Errored
[debug] [2025-09-26T03:35:50.329Z] 0 Function Deployments Aborted
[debug] [2025-09-26T03:35:50.329Z] Average Function Deployment time: 2.3333333333333335
[info] 
[info] Functions deploy had errors with the following functions:
	onCreateSetDefaultRole(us-central1)
	ping(us-central1)
	setUserRole(us-central1)
[debug] [2025-09-26T03:35:50.698Z] Not printing URL for HTTPS function. Typically this means it didn't match a filter or we failed deployment
[debug] [2025-09-26T03:35:50.700Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:50.700Z] Checked if tokens are valid: true, expires at: 1758858828248
[debug] [2025-09-26T03:35:50.700Z] >>> [apiv2][query] GET https://artifactregistry.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/repositories/gcf-artifacts [none]
[debug] [2025-09-26T03:35:52.200Z] <<< [apiv2][status] GET https://artifactregistry.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/repositories/gcf-artifacts 200
[debug] [2025-09-26T03:35:52.200Z] <<< [apiv2][body] GET https://artifactregistry.googleapis.com/v1/projects/ruff-7d37f/locations/us-central1/repositories/gcf-artifacts {"name":"projects/ruff-7d37f/locations/us-central1/repositories/gcf-artifacts","format":"DOCKER","description":"This repository is created and used by Cloud Functions for storing function docker images.","labels":{"goog-managed-by":"cloudfunctions"},"createTime":"2025-09-26T02:44:45.233125Z","updateTime":"2025-09-26T03:07:42.430121Z","mode":"STANDARD_REPOSITORY","cleanupPolicies":{"firebase-functions-cleanup":{"id":"firebase-functions-cleanup","action":"DELETE","condition":{"tagState":"ANY","olderThan":"604800s"}}},"vulnerabilityScanningConfig":{"lastEnableTime":"2025-09-26T02:44:36.808462432Z","enablementState":"SCANNING_DISABLED","enablementStateReason":"API containerscanning.googleapis.com is not enabled."},"satisfiesPzi":true,"registryUri":"us-central1-docker.pkg.dev/ruff-7d37f/gcf-artifacts"}
[debug] [2025-09-26T03:35:52.201Z] Functions deploy failed.
[debug] [2025-09-26T03:35:52.201Z] {}
[debug] [2025-09-26T03:35:52.201Z] {}
[debug] [2025-09-26T03:35:52.201Z] {}
[error] Error: There was an error deploying functions:
[error] - Error Precondition failed
[error] - Error Precondition failed
[error] - Error Precondition failed
